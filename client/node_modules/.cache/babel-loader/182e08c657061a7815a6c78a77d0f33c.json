{"ast":null,"code":"import _defineProperty from\"/home/administrator/Documents/Ironhack/Project3/IronHack-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/administrator/Documents/Ironhack/Project3/IronHack-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/administrator/Documents/Ironhack/Project3/IronHack-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/administrator/Documents/Ironhack/Project3/IronHack-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/administrator/Documents/Ironhack/Project3/IronHack-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';var AddThread=/*#__PURE__*/function(_Component){_inherits(AddThread,_Component);var _super=_createSuper(AddThread);function AddThread(props){var _this;_classCallCheck(this,AddThread);_this=_super.call(this,props);_this.handleFormSubmit=function(event){event.preventDefault();var title=_this.state.title;var description=_this.state.description;var user=_this.props.user.username;axios.post(\"/api/threads\",{title:title,description:description,user:user}).then(function(){_this.props.getData();_this.setState({title:\"\",description:\"\",user:_this.props.user.username});//  console.log(\"post axios state\", this.state)\n}).catch(function(error){return console.log(error);});};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.state={title:\"\",description:\"\",user:\"\"};return _this;}_createClass(AddThread,[{key:\"render\",value:function render(){var _this2=this;console.log(\"out of the props\",this.props.user.username);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{className:\"thread-form\",onSubmit:this.handleFormSubmit},/*#__PURE__*/React.createElement(\"label\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"title\",placeholder:\"Enter title\",value:this.state.title,onChange:function onChange(e){return _this2.handleChange(e);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null),/*#__PURE__*/React.createElement(\"textarea\",{name:\"description\",placeholder:\"Enter description\",value:this.state.description,onChange:function onChange(e){return _this2.handleChange(e);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Submit\",className:\"thread-form-button\"})));}}]);return AddThread;}(Component);export default AddThread;","map":{"version":3,"sources":["/home/administrator/Documents/Ironhack/Project3/IronHack-Project-3/client/src/components/threads/AddThread.js"],"names":["React","Component","axios","AddThread","props","handleFormSubmit","event","preventDefault","title","state","description","user","username","post","then","getData","setState","catch","error","console","log","handleChange","target","name","value","e"],"mappings":"k7BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,S,sGACJ,mBAAYC,KAAZ,CAAkB,2CACd,uBAAMA,KAAN,EADc,MAMlBC,gBANkB,CAMC,SAACC,KAAD,CAAW,CAC5BA,KAAK,CAACC,cAAN,GACA,GAAMC,CAAAA,KAAK,CAAG,MAAKC,KAAL,CAAWD,KAAzB,CACA,GAAME,CAAAA,WAAW,CAAG,MAAKD,KAAL,CAAWC,WAA/B,CACA,GAAMC,CAAAA,IAAI,CAAG,MAAKP,KAAL,CAAWO,IAAX,CAAgBC,QAA7B,CACAV,KAAK,CAACW,IAAN,CAAW,cAAX,CAA2B,CAAEL,KAAK,CAALA,KAAF,CAASE,WAAW,CAAXA,WAAT,CAAsBC,IAAI,CAAJA,IAAtB,CAA3B,EACCG,IADD,CACO,UAAM,CACR,MAAKV,KAAL,CAAWW,OAAX,GACA,MAAKC,QAAL,CAAc,CAACR,KAAK,CAAE,EAAR,CAAYE,WAAW,CAAE,EAAzB,CAA8BC,IAAI,CAAE,MAAKP,KAAL,CAAWO,IAAX,CAAgBC,QAApD,CAAd,EACD;AACH,CALD,EAMCK,KAND,CAMQ,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EANb,EAOD,CAlBiB,OAoBlBG,YApBkB,CAoBH,SAACf,KAAD,CAAW,mBACAA,KAAK,CAACgB,MADN,CACfC,IADe,eACfA,IADe,CACTC,KADS,eACTA,KADS,CAEtB,MAAKR,QAAL,oBAAgBO,IAAhB,CAAuBC,KAAvB,GACH,CAvBiB,CAEd,MAAKf,KAAL,CAAa,CAAED,KAAK,CAAE,EAAT,CAAaE,WAAW,CAAE,EAA1B,CAA8BC,IAAI,CAAE,EAApC,CAAb,CAFc,aAGjB,C,6DAsBO,iBACNQ,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgC,KAAKhB,KAAL,CAAWO,IAAX,CAAgBC,QAAhD,EAEA,mBACE,4CAEE,4BAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAE,KAAKP,gBAA7C,eACE,iCADF,cAEE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,WAAW,CAAC,aAA5C,CAA0D,KAAK,CAAE,KAAKI,KAAL,CAAWD,KAA5E,CAAmF,QAAQ,CAAG,kBAAAiB,CAAC,QAAI,CAAA,MAAI,CAACJ,YAAL,CAAkBI,CAAlB,CAAJ,EAA/F,EAFF,cAGA,8BAHA,cAIE,iCAJF,cAKE,gCAAU,IAAI,CAAC,aAAf,CAA6B,WAAW,CAAC,mBAAzC,CAA6D,KAAK,CAAE,KAAKhB,KAAL,CAAWC,WAA/E,CAA4F,QAAQ,CAAG,kBAAAe,CAAC,QAAI,CAAA,MAAI,CAACJ,YAAL,CAAkBI,CAAlB,CAAJ,EAAxG,EALF,cAME,8BANF,cAOE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,SAAS,CAAC,oBAA9C,EAPF,CAFF,CADF,CAcD,C,uBA3CqBxB,S,EA8CxB,cAAeE,CAAAA,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n \nclass AddThread extends Component {\n  constructor(props){\n      super(props);\n      this.state = { title: \"\", description: \"\", user: \"\"};\n  }\n\n  \n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const title = this.state.title;\n    const description = this.state.description;\n    const user = this.props.user.username;\n    axios.post(\"/api/threads\", { title, description, user })\n    .then( () => {\n         this.props.getData();\n         this.setState({title: \"\", description: \"\" , user: this.props.user.username});\n        //  console.log(\"post axios state\", this.state)\n    })\n    .catch( error => console.log(error) )\n  }\n \n  handleChange = (event) => {  \n      const {name, value} = event.target;\n      this.setState({[name]: value});\n  }\n \n  render(){\n    console.log(\"out of the props\", this.props.user.username)\n   \n    return(\n      <div>\n\n        <form className=\"thread-form\" onSubmit={this.handleFormSubmit}>\n          <label></label>\n          <input type=\"text\" name=\"title\" placeholder=\"Enter title\" value={this.state.title} onChange={ e => this.handleChange(e)}/>\n        <br/>\n          <label></label>\n          <textarea name=\"description\" placeholder=\"Enter description\" value={this.state.description} onChange={ e => this.handleChange(e)} />\n          <br/>\n          <input type=\"submit\" value=\"Submit\" className=\"thread-form-button\"/>\n        </form>\n      </div>\n    )\n  }\n}\n \nexport default AddThread;"]},"metadata":{},"sourceType":"module"}