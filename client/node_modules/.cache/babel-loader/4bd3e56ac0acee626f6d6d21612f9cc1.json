{"ast":null,"code":"var _jsxFileName = \"/home/administrator/Documents/Ironhack/Project3/IronHack-Project-3/client/src/components/Profile.js\";\nimport React from \"react\";\nimport axios from \"axios\"; //import User from '../../../models/User';\n\nimport Navbar from \"./Navbar\";\nimport EditUser from \"./users/EditUser\";\nexport default class Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: this.props.user,\n      editUser: false,\n      error: null,\n      name: \"\",\n      picture: \"\",\n      email: \"\",\n      age: null,\n      address: \"\",\n      skills: [],\n      bio: \"\"\n    };\n\n    this.setUser = user => {\n      this.setState({\n        user: user\n      });\n    };\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const id = this.props.match.params.id;\n      axios.put(`/user:id`, {\n        name: this.state.name,\n        picture: this.state.picture,\n        email: this.state.email,\n        age: this.state.age,\n        address: this.state.address,\n        skilss: this.state.skills,\n        bio: this.state.bio\n      }).then(response => {\n        this.setState({\n          name: response.data.name,\n          picture: response.data.picture,\n          email: response.data.email,\n          age: response.data.age,\n          address: response.data.address,\n          skills: response.data.skills,\n          bio: response.data.bio,\n          editForm: false\n        });\n        this.props.history.push(`/profile`);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.toggleEditUser = () => {\n      this.setState({\n        editUser: !this.state.editUser\n      });\n    };\n\n    this.getData = () => {\n      const id = this.props.match.params.id;\n      console.log(id, \"ID\");\n      axios.get(`/api/users/${id}`).then(response => {\n        console.log(response.data);\n        this.setState({\n          user: response.data,\n          name: response.data.name,\n          picture: response.data.picture,\n          email: response.data.email,\n          age: response.data.age,\n          skills: response.data.skills,\n          address: response.data.address,\n          bio: response.data.bio\n        });\n      }).catch(err => {\n        console.log(err); // handle err.response depending on err.response.status\n\n        if (err.response.status === 404) {\n          this.setState({\n            error: \"Not found\"\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    console.log(this.props.user, \"profile user\");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n      user: this.state.user,\n      setUser: this.setUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }, \"Welcome to your profile, \", this.state.user.username, \"!\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, \"Username: \", this.state.user.username), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, \"Email: \", this.state.user.email), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 15\n      }\n    }, \"Name: \", this.state.user.name), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, \"Age: \", this.state.user.age), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, \"Address: \", this.state.user.address), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, \"Skills:\", \" \", this.state.user.skills.map(el => /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 19\n      }\n    }, el))), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, \"Bio: \", this.state.user.bio)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-details-edit-delete-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.toggleEditUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }, \"Edit User\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, this.state.editUser && /*#__PURE__*/React.createElement(EditUser, Object.assign({}, this.state, this.props, {\n      setUser: this.props.setUser,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      toggleEditUser: this.toggleEditUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["/home/administrator/Documents/Ironhack/Project3/IronHack-Project-3/client/src/components/Profile.js"],"names":["React","axios","Navbar","EditUser","Profile","Component","state","user","props","editUser","error","name","picture","email","age","address","skills","bio","setUser","setState","handleChange","event","value","target","handleSubmit","preventDefault","id","match","params","put","skilss","then","response","data","editForm","history","push","catch","err","console","log","toggleEditUser","getData","get","status","render","username","map","el"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n//import User from '../../../models/User';\nimport Navbar from \"./Navbar\";\nimport EditUser from \"./users/EditUser\";\n\nexport default class Profile extends React.Component {\n  state = {\n    user: this.props.user,\n    editUser: false,\n    error: null,\n    name: \"\",\n    picture: \"\",\n    email: \"\",\n    age: null,\n    address: \"\",\n    skills: [],\n    bio: \"\",\n  };\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const id = this.props.match.params.id;\n    axios\n      .put(`/user:id`, {\n        name: this.state.name,\n        picture: this.state.picture,\n        email: this.state.email,\n        age: this.state.age,\n        address: this.state.address,\n        skilss: this.state.skills,\n        bio: this.state.bio,\n      })\n      .then((response) => {\n        this.setState({\n          name: response.data.name,\n          picture: response.data.picture,\n          email: response.data.email,\n          age: response.data.age,\n          address: response.data.address,\n          skills: response.data.skills,\n          bio: response.data.bio,\n          editForm: false,\n        });\n        this.props.history.push(`/profile`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  toggleEditUser = () => {\n    this.setState({\n      editUser: !this.state.editUser,\n    });\n  };\n\n  getData = () => {\n    const id = this.props.match.params.id;\n    console.log(id, \"ID\");\n    axios\n      .get(`/api/users/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          user: response.data,\n          name: response.data.name,\n          picture: response.data.picture,\n          email: response.data.email,\n          age: response.data.age,\n          skills: response.data.skills,\n          address: response.data.address,\n          bio: response.data.bio,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n        // handle err.response depending on err.response.status\n        if (err.response.status === 404) {\n          this.setState({ error: \"Not found\" });\n        }\n      });\n  };\n\n\n\n  render() {\n    console.log(this.props.user, \"profile user\");\n\n    return (\n      <>\n        <Navbar user={this.state.user} setUser={this.setUser} />\n\n        <div className=\"profile-page\">\n          <div className=\"profile-info\">\n            <ul>\n              <h1>Welcome to your profile, {this.state.user.username}!</h1>\n              <li></li>\n              <li>Username: {this.state.user.username}</li>\n              <li>Email: {this.state.user.email}</li>\n              <li>Name: {this.state.user.name}</li>\n              <li>Age: {this.state.user.age}</li>\n              <li>Address: {this.state.user.address}</li>\n              <li>\n                Skills:{\" \"}\n                {this.state.user.skills.map((el) => (\n                  <p>{el}</p>\n                ))}\n              </li>\n              <li>Bio: {this.state.user.bio}</li>\n            </ul>\n            <div className=\"user-details-edit-delete-buttons\">\n              <button onClick={this.toggleEditUser}>Edit User</button>\n            </div>\n            <div className=\"edit-user-form\">\n              {this.state.editUser && (\n                <EditUser\n                  {...this.state}\n                  {...this.props}\n                  setUser={this.props.setUser}\n                  handleChange={this.handleChange}\n                  handleSubmit={this.handleSubmit}\n                  toggleEditUser={this.toggleEditUser}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}