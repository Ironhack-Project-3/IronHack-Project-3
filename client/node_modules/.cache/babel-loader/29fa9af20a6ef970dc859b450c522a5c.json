{"ast":null,"code":"var _jsxFileName = \"/Users/racheldelatorre/Documents/ironhack/web/projects/app-react/IronHack-Project-3/client/src/components/Profile.js\";\nimport React from \"react\";\nimport axios from \"axios\"; //import User from '../../../models/User';\n\nimport Navbar from \"./Navbar\";\nimport EditUser from \"./users/EditUser\";\nexport default class Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: this.props.user,\n      editUser: false,\n      error: null,\n      name: \"\",\n      email: \"\",\n      age: null,\n      address: \"\",\n      skills: [],\n      bio: \"\"\n    };\n\n    this.setUser = user => {\n      this.setState({\n        user: user\n      });\n    };\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const id = this.props.match.params.id;\n      axios.put(`/user:id`, {\n        name: this.state.name,\n        email: this.state.email,\n        age: this.state.age,\n        address: this.state.address,\n        skilss: this.state.skills,\n        bio: this.state.bio\n      }).then(response => {\n        this.setState({\n          user: response.data,\n          username: response.data.username,\n          name: response.data.name,\n          email: response.data.email,\n          age: response.data.age,\n          address: response.data.address,\n          skills: response.data.skills,\n          bio: response.data.bio,\n          editForm: false\n        });\n        this.props.history.push(`/profile`);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.toggleEditUser = () => {\n      this.setState({\n        editUser: !this.state.editUser\n      });\n    };\n\n    this.getData = () => {\n      const id = this.props.match.params.id;\n      console.log(id, \"ID\");\n      axios.get(`/api/users/${id}`).then(response => {\n        console.log(response.data);\n        this.setState({\n          user: response.data,\n          username: response.data.username,\n          name: response.data.name,\n          email: response.data.email,\n          age: response.data.age,\n          skilss: response.data.skills,\n          address: response.data.address,\n          bio: response.data.bio\n        });\n      }).catch(err => {\n        console.log(err); // handle err.response depending on err.response.status\n\n        if (err.response.status === 404) {\n          this.setState({\n            error: \"Not found\"\n          });\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.match.params.id) {\n      this.getData();\n    } else {\n      this.setState({\n        user: this.props.user\n      });\n    }\n  }\n\n  componentDidUpdate(pr) {\n    if (this.props.match.params.id) {\n      this.getData();\n    } else {\n      this.setState({\n        user: this.props.user\n      });\n    }\n  }\n\n  render() {\n    console.log(this.props.user);\n    if (!this.state.user) return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 34\n      }\n    }, \"Loading..\");\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n      user: this.state.user,\n      setUser: this.setUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, \"Welcome to your profile, \", this.state.user.username, \"!\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, \"Username: \", this.state.user.username), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }\n    }, \"Email: \", this.state.user.email), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }\n    }, \"Name: \", this.state.user.name), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, \"Age: \", this.state.user.age), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, \"Address: \", this.state.user.address), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }\n    }, \"Skills:\", \" \", this.state.user.skills.map(el => /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, el))), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, \"Bio: \", this.state.user.bio)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-details-edit-delete-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.toggleEditUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }, \"Edit User\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, this.state.editUser && /*#__PURE__*/React.createElement(EditUser, Object.assign({}, this.state, this.props, {\n      setUser: this.props.setUser,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      toggleEditUser: this.toggleEditUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/racheldelatorre/Documents/ironhack/web/projects/app-react/IronHack-Project-3/client/src/components/Profile.js"],"names":["React","axios","Navbar","EditUser","Profile","Component","state","user","props","editUser","error","name","email","age","address","skills","bio","setUser","setState","handleChange","event","value","target","handleSubmit","preventDefault","id","match","params","put","skilss","then","response","data","username","editForm","history","push","catch","err","console","log","toggleEditUser","getData","get","status","componentDidMount","componentDidUpdate","pr","render","map","el"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n//import User from '../../../models/User';\nimport Navbar from \"./Navbar\";\nimport EditUser from \"./users/EditUser\";\n\nexport default class Profile extends React.Component {\n  state = {\n    user: this.props.user,\n    editUser: false,\n    error: null,\n    name: \"\",\n    email: \"\",\n    age: null,\n    address: \"\",\n    skills: [],\n    bio: \"\",\n  };\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const id = this.props.match.params.id;\n    axios\n      .put(`/user:id`, {\n        name: this.state.name,\n        email: this.state.email,\n        age: this.state.age,\n        address: this.state.address,\n        skilss: this.state.skills,\n        bio: this.state.bio,\n      })\n      .then((response) => {\n        this.setState({\n          user: response.data,\n          username: response.data.username,\n          name: response.data.name,\n          email: response.data.email,\n          age: response.data.age,\n          address: response.data.address,\n          skills: response.data.skills,\n          bio: response.data.bio,\n          editForm: false,\n        });\n        this.props.history.push(`/profile`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  toggleEditUser = () => {\n    this.setState({\n      editUser: !this.state.editUser,\n    });\n  };\n\n  getData = () => {\n    const id = this.props.match.params.id;\n    console.log(id, \"ID\");\n    axios\n      .get(`/api/users/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          user: response.data,\n          username: response.data.username,\n          name: response.data.name,\n          email: response.data.email,\n          age: response.data.age,\n          skilss: response.data.skills,\n          address: response.data.address,\n          bio: response.data.bio,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n        // handle err.response depending on err.response.status\n        if (err.response.status === 404) {\n          this.setState({ error: \"Not found\" });\n        }\n      });\n  };\n\n  componentDidMount() {\n    if (this.props.match.params.id) {\n      this.getData();\n    } else {\n      this.setState({\n        user: this.props.user,\n      });\n    }\n  };\n\n  componentDidUpdate(pr) {\n    if (this.props.match.params.id) {\n      this.getData();\n    } else {\n      this.setState({\n        user: this.props.user,\n      });\n    }\n  };\n\n  render() {\n    console.log(this.props.user);\n    if (!this.state.user) return <div>Loading..</div>;\n    return (\n      <>\n        <Navbar user={this.state.user} setUser={this.setUser} />\n\n        <div className=\"profile-page\">\n          <div className=\"profile-info\">\n            <ul>\n              <h1>Welcome to your profile, {this.state.user.username}!</h1>\n              <li>Username: {this.state.user.username}</li>\n              <li>Email: {this.state.user.email}</li>\n              <li>Name: {this.state.user.name}</li>\n              <li>Age: {this.state.user.age}</li>\n              <li>Address: {this.state.user.address}</li>\n              <li>\n                Skills:{\" \"}\n                {this.state.user.skills.map((el) => (\n                  <p>{el}</p>\n                ))}\n              </li>\n              <li>Bio: {this.state.user.bio}</li>\n            </ul>\n            <div className=\"user-details-edit-delete-buttons\">\n              <button onClick={this.toggleEditUser}>Edit User</button>\n            </div>\n            <div className=\"edit-user-form\">\n              {this.state.editUser && (\n                <EditUser\n                  {...this.state}\n                  {...this.props}\n                  setUser={this.props.setUser}\n                  handleChange={this.handleChange}\n                  handleSubmit={this.handleSubmit}\n                  toggleEditUser={this.toggleEditUser}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}