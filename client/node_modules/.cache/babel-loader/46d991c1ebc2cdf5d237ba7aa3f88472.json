{"ast":null,"code":"var _jsxFileName = \"/home/administrator/Documents/Ironhack/Project3/IronHack-Project-3/client/src/components/Profile.js\";\nimport React from \"react\";\nimport axios from \"axios\"; //import User from '../../../models/User';\n\nimport Navbar from \"./Navbar\";\nimport EditUser from \"./users/EditUser\";\nexport default class Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: this.props.user,\n      editUser: false,\n      error: null,\n      name: \"\",\n      email: \"\",\n      age: null,\n      address: \"\",\n      skills: [],\n      bio: \"\"\n    };\n\n    this.setUser = user => {\n      this.setState({\n        user: user\n      });\n    };\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const id = this.props.match.params.id;\n      axios.put(`/user:id`, {\n        name: this.state.name,\n        picture: this.state.picture,\n        email: this.state.email,\n        age: this.state.age,\n        address: this.state.address,\n        skilss: this.state.skills,\n        bio: this.state.bio\n      }).then(response => {\n        this.setState({\n          user: response.data,\n          username: response.data.username,\n          name: response.data.name,\n          picture: this.state.picture,\n          email: response.data.email,\n          age: response.data.age,\n          address: response.data.address,\n          skills: response.data.skills,\n          bio: response.data.bio,\n          editForm: false\n        });\n        this.props.history.push(`/profile`);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.toggleEditUser = () => {\n      this.setState({\n        editUser: !this.state.editUser\n      });\n    };\n\n    this.getData = () => {\n      const id = this.props.match.params.id;\n      axios.get(`/api/user/${id}`).then(response => {\n        console.log(response.data);\n        this.setState({\n          user: response.data,\n          username: response.data.username,\n          name: response.data.name,\n          picture: this.state.picture,\n          email: response.data.email,\n          age: response.data.age,\n          skilss: response.data.skills,\n          address: response.data.address,\n          bio: response.data.bio\n        });\n      }).catch(err => {\n        console.log(err.response); // handle err.response depending on err.response.status\n\n        if (err.response.status === 404) {\n          this.setState({\n            error: \"Not found\"\n          });\n        }\n      });\n    };\n\n    this.componentDidMount = () => {\n      this.getData();\n    };\n  }\n\n  ///////////////////////////////////////////////////\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n      user: this.state.user,\n      setUser: this.setUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }\n    }, \"Welcome to your profile, \", this.props.user.username, \"!\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 15\n      }\n    }, \"Username: \", this.props.user.username), \"picture: this.state.picture,\", /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, \"Email: \", this.props.user.email), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, \"Name: \", this.props.user.name), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, \"Age: \", this.props.user.age), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, \"Address: \", this.props.user.address), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }, \"Skills:\", \" \", this.props.user.skills.map(el => /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 19\n      }\n    }, el))), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, \"Bio: \", this.props.user.bio)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-details-edit-delete-buttons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.toggleEditUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 15\n      }\n    }, \"Edit User\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"edit-user-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, this.state.editUser && /*#__PURE__*/React.createElement(EditUser, Object.assign({}, this.state, this.props, {\n      setUser: this.props.setUser,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      toggleEditUser: this.toggleEditUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["/home/administrator/Documents/Ironhack/Project3/IronHack-Project-3/client/src/components/Profile.js"],"names":["React","axios","Navbar","EditUser","Profile","Component","state","user","props","editUser","error","name","email","age","address","skills","bio","setUser","setState","handleChange","event","value","target","handleSubmit","preventDefault","id","match","params","put","picture","skilss","then","response","data","username","editForm","history","push","catch","err","console","log","toggleEditUser","getData","get","status","componentDidMount","render","map","el"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n//import User from '../../../models/User';\nimport Navbar from \"./Navbar\";\nimport EditUser from \"./users/EditUser\";\n\nexport default class Profile extends React.Component {\n  state = {\n    user: this.props.user,\n    editUser: false,\n    error: null,\n    name: \"\",\n    email: \"\",\n    age: null,\n    address: \"\",\n    skills: [],\n    bio: \"\",\n  };\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n\n  /////////////////////////////////////////\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const id = this.props.match.params.id;\n    axios\n      .put(`/user:id`, {\n        name: this.state.name,\n        picture: this.state.picture,\n        email: this.state.email,\n        age: this.state.age,\n        address: this.state.address,\n        skilss: this.state.skills,\n        bio: this.state.bio,\n      })\n      .then((response) => {\n        this.setState({\n          user: response.data,\n          username: response.data.username,\n          name: response.data.name,\n          picture: this.state.picture,\n          email: response.data.email,\n          age: response.data.age,\n          address: response.data.address,\n          skills: response.data.skills,\n          bio: response.data.bio,\n          editForm: false,\n        });\n        this.props.history.push(`/profile`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  toggleEditUser = () => {\n    this.setState({\n      editUser: !this.state.editUser,\n    });\n  };\n\n  getData = () => {\n    const id = this.props.match.params.id;\n    axios\n      .get(`/api/user/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          user: response.data,\n          username: response.data.username,\n          name: response.data.name,\n          picture: this.state.picture,\n          email: response.data.email,\n          age: response.data.age,\n          skilss: response.data.skills,\n          address: response.data.address,\n          bio: response.data.bio,\n        });\n      })\n      .catch((err) => {\n        console.log(err.response);\n        // handle err.response depending on err.response.status\n        if (err.response.status === 404) {\n          this.setState({ error: \"Not found\" });\n        }\n      });\n  };\n\n  componentDidMount = () => {\n    this.getData();\n  };\n\n  ///////////////////////////////////////////////////\n\n  render() {\n    return (\n      <>\n        <Navbar user={this.state.user} setUser={this.setUser} />\n\n        <div className=\"profile-page\">\n          <div className=\"profile-info\">\n            <ul>\n              <h1>Welcome to your profile, {this.props.user.username}!</h1>\n              <li>Username: {this.props.user.username}</li>\n              picture: this.state.picture,\n              <li>Email: {this.props.user.email}</li>\n              <li>Name: {this.props.user.name}</li>\n              <li>Age: {this.props.user.age}</li>\n              <li>Address: {this.props.user.address}</li>\n              <li>\n                Skills:{\" \"}\n                {this.props.user.skills.map((el) => (\n                  <p>{el}</p>\n                ))}\n              </li>\n              <li>Bio: {this.props.user.bio}</li>\n            </ul>\n            <div className=\"user-details-edit-delete-buttons\">\n              <button onClick={this.toggleEditUser}>Edit User</button>\n            </div>\n            <div className=\"edit-user-form\">\n              {this.state.editUser && (\n                <EditUser\n                  {...this.state}\n                  {...this.props}\n                  setUser={this.props.setUser}\n                  handleChange={this.handleChange}\n                  handleSubmit={this.handleSubmit}\n                  toggleEditUser={this.toggleEditUser}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}