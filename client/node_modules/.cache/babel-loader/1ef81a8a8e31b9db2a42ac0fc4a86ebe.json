{"ast":null,"code":"import _defineProperty from\"/Users/racheldelatorre/Documents/ironhack/web/projects/app-react/IronHack-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/racheldelatorre/Documents/ironhack/web/projects/app-react/IronHack-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/racheldelatorre/Documents/ironhack/web/projects/app-react/IronHack-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/racheldelatorre/Documents/ironhack/web/projects/app-react/IronHack-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/racheldelatorre/Documents/ironhack/web/projects/app-react/IronHack-Project-3/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";//import User from '../../../models/User';\nimport Navbar from\"./Navbar\";import EditUser from\"./users/EditUser\";var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);var _super=_createSuper(Profile);function Profile(){var _this;_classCallCheck(this,Profile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:_this.props.user,editUser:false,error:null,name:\"\",picture:\"\",email:\"\",age:null,address:\"\",skills:[],bio:\"\"};_this.setUser=function(user){_this.setState({user:user});};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();var id=_this.props.match.params.id;axios.put(\"/user:id\",{name:_this.state.name,picture:_this.state.picture,email:_this.state.email,age:_this.state.age,address:_this.state.address,skilss:_this.state.skills,bio:_this.state.bio}).then(function(response){_this.setState({name:response.data.name,picture:response.data.picture,email:response.data.email,age:response.data.age,address:response.data.address,skills:response.data.skills,bio:response.data.bio,editForm:false});_this.props.history.push(\"/profile\");}).catch(function(err){console.log(err);});};_this.toggleEditUser=function(){_this.setState({editUser:!_this.state.editUser});};_this.getData=function(){var id=_this.props.match.params.id;console.log(id,\"ID\");axios.get(\"/api/users/\".concat(id)).then(function(response){console.log(response.data);_this.setState({user:response.data,name:response.data.name,picture:response.data.picture,email:response.data.email,age:response.data.age,skills:response.data.skills,address:response.data.address,bio:response.data.bio});}).catch(function(err){console.log(err);// handle err.response depending on err.response.status\nif(err.response.status===404){_this.setState({error:\"Not found\"});}});};return _this;}_createClass(Profile,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.match.params.id){this.getData();}else{this.setState({user:this.props.user});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProp){if(prevProp!==this.props){this.setState({user:this.props.user});}}},{key:\"render\",value:function render(){console.log(this.props.user);if(!this.state.user)return/*#__PURE__*/React.createElement(\"div\",null,\"Loading..\");return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,{user:this.state.user,setUser:this.setUser}),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile-info\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"h1\",null,this.state.user.username,\"'s profile\"),/*#__PURE__*/React.createElement(\"img\",{src:this.state.user.picture,alt:\"Your face\"}),/*#__PURE__*/React.createElement(\"li\",null,\"Username: \",this.state.user.username),/*#__PURE__*/React.createElement(\"li\",null,\"Picture: \",this.state.user.picture),/*#__PURE__*/React.createElement(\"li\",null,\"Email: \",this.state.user.email),/*#__PURE__*/React.createElement(\"li\",null,\"Name: \",this.state.user.name),/*#__PURE__*/React.createElement(\"li\",null,\"Age: \",this.state.user.age),/*#__PURE__*/React.createElement(\"li\",null,\"Address: \",this.state.user.address),/*#__PURE__*/React.createElement(\"li\",null,\"Skills:\",\" \",this.state.user.skills.map(function(el){return/*#__PURE__*/React.createElement(\"p\",null,el);})),/*#__PURE__*/React.createElement(\"li\",null,\"Bio: \",this.state.user.bio)),/*#__PURE__*/React.createElement(\"div\",{className:\"user-details-edit-delete-buttons\"},/*#__PURE__*/React.createElement(\"button\",{onClick:this.toggleEditUser},\"Edit User\")),/*#__PURE__*/React.createElement(\"div\",{className:\"edit-user-form\"},this.state.editUser&&/*#__PURE__*/React.createElement(EditUser,Object.assign({},this.state,this.props,{setUser:this.props.setUser,handleChange:this.handleChange,handleSubmit:this.handleSubmit,toggleEditUser:this.toggleEditUser}))))));}}]);return Profile;}(React.Component);export{Profile as default};","map":{"version":3,"sources":["/Users/racheldelatorre/Documents/ironhack/web/projects/app-react/IronHack-Project-3/client/src/components/Profile.js"],"names":["React","axios","Navbar","EditUser","Profile","state","user","props","editUser","error","name","picture","email","age","address","skills","bio","setUser","setState","handleChange","event","target","value","handleSubmit","preventDefault","id","match","params","put","skilss","then","response","data","editForm","history","push","catch","err","console","log","toggleEditUser","getData","get","status","prevProp","username","map","el","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n//import User from '../../../models/User';\nimport Navbar from \"./Navbar\";\nimport EditUser from \"./users/EditUser\";\nexport default class Profile extends React.Component {\n  state = {\n    user: this.props.user,\n    editUser: false,\n    error: null,\n    name: \"\",\n    picture: \"\",\n    email: \"\",\n    age: null,\n    address: \"\",\n    skills: [],\n    bio: \"\",\n  };\n  setUser = (user) => {\n    this.setState({\n      user: user,\n    });\n  };\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const id = this.props.match.params.id;\n    axios\n      .put(`/user:id`, {\n        name: this.state.name,\n        picture: this.state.picture,\n        email: this.state.email,\n        age: this.state.age,\n        address: this.state.address,\n        skilss: this.state.skills,\n        bio: this.state.bio,\n      })\n      .then((response) => {\n        this.setState({\n          name: response.data.name,\n          picture: response.data.picture,\n          email: response.data.email,\n          age: response.data.age,\n          address: response.data.address,\n          skills: response.data.skills,\n          bio: response.data.bio,\n          editForm: false,\n        });\n        this.props.history.push(`/profile`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  toggleEditUser = () => {\n    this.setState({\n      editUser: !this.state.editUser,\n    });\n  };\n  getData = () => {\n    const id = this.props.match.params.id;\n    console.log(id, \"ID\");\n    axios\n      .get(`/api/users/${id}`)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          user: response.data,\n          name: response.data.name,\n          picture: response.data.picture,\n          email: response.data.email,\n          age: response.data.age,\n          skills: response.data.skills,\n          address: response.data.address,\n          bio: response.data.bio,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n        // handle err.response depending on err.response.status\n        if (err.response.status === 404) {\n          this.setState({ error: \"Not found\" });\n        }\n      });\n  };\n  componentDidMount() {\n    if (this.props.match.params.id) {\n      this.getData();\n    } else {\n      this.setState({\n        user: this.props.user,\n      });\n    }\n  }\n  componentDidUpdate(prevProp) {\n    if (prevProp !== this.props) {\n      this.setState({\n        user: this.props.user,\n      });\n    }\n  }\n\n  render() {\n    console.log(this.props.user);\n    if (!this.state.user) return <div>Loading..</div>;\n    return (\n      <>\n        <Navbar user={this.state.user} setUser={this.setUser} />\n        <div className=\"profile-page\">\n          <div className=\"profile-info\">\n            <ul>\n              <h1>{this.state.user.username}'s profile</h1>\n              <img src={this.state.user.picture} alt=\"Your face\"></img>\n              <li>Username: {this.state.user.username}</li>\n              <li>Picture: {this.state.user.picture}</li>\n              <li>Email: {this.state.user.email}</li>\n              <li>Name: {this.state.user.name}</li>\n              <li>Age: {this.state.user.age}</li>\n              <li>Address: {this.state.user.address}</li>\n              <li>\n                Skills:{\" \"}\n                {this.state.user.skills.map((el) => (\n                  <p>{el}</p>\n                ))}\n              </li>\n              <li>Bio: {this.state.user.bio}</li>\n            </ul>\n            {/* <div>\n              <button></button>\n            </div> */}\n            <div className=\"user-details-edit-delete-buttons\">\n              <button onClick={this.toggleEditUser}>Edit User</button>\n            </div>\n            <div className=\"edit-user-form\">\n              {this.state.editUser && (\n                <EditUser\n                  {...this.state}\n                  {...this.props}\n                  setUser={this.props.setUser}\n                  handleChange={this.handleChange}\n                  handleSubmit={this.handleSubmit}\n                  toggleEditUser={this.toggleEditUser}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}