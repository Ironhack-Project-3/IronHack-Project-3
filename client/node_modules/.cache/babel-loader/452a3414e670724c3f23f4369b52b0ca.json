{"ast":null,"code":"import _classCallCheck from\"/home/nina/Desktop/Ironhack/germanadmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nina/Desktop/Ironhack/germanadmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/nina/Desktop/Ironhack/germanadmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/nina/Desktop/Ironhack/germanadmin/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import AddThread from\"./AddThread\";import Profile from\"../Profile\";import{people}from\"../../utils/imageUpload\";var ThreadList=/*#__PURE__*/function(_Component){_inherits(ThreadList,_Component);var _super=_createSuper(ThreadList);function ThreadList(props){var _this;_classCallCheck(this,ThreadList);_this=_super.call(this,props);_this.getAllThreads=function(){axios.get(\"/api/threads\").then(function(responseFromApi){_this.setState({listOfThreads:responseFromApi.data});});};_this.getAllUsers=function(){axios.get(\"/api/users\").then(function(response){_this.setState({listOfUsers:response.data});});};_this.state={listOfThreads:[],listOfUsers:[]};return _this;}_createClass(ThreadList,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAllThreads();this.getAllUsers();}},{key:\"render\",value:function render(){var _this2=this;console.log(\"this is the list of threads\",this.state.listOfThreads);console.log(\"these are the users\",this.state.listOfUsers);// console.log(\"threadList props\", this.props)\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"threads\"},/*#__PURE__*/React.createElement(\"div\",{className:\"threadlist\"},/*#__PURE__*/React.createElement(\"div\",{className:\"add-thread\"},/*#__PURE__*/React.createElement(\"img\",{src:people,className:\"people-icon\"}),/*#__PURE__*/React.createElement(\"h2\",null,\"Add a New Thread\"),/*#__PURE__*/React.createElement(AddThread,{getData:function getData(){return _this2.getAllThreads();},user:this.props.user}),\" \"),/*#__PURE__*/React.createElement(\"div\",{className:\"threadlist-results\"},this.state.listOfThreads.map(function(thread){var name=\"\";var id=\"\";thread.user?name=thread.user.username:name=\"\";thread.user?id=thread.user._id:id=\"\";{/* let tests = this.state.listOfUsers.find(\n                  (el) => el._id === thread.user\n                ); */}{/* let usernameTest = this.state.listOfUsers.find(\n                  (user) => console.log(user) || user._id === thread.user\n                ); */}return/*#__PURE__*/React.createElement(\"div\",{className:\"threadlist-individual-result\",key:thread._id},/*#__PURE__*/React.createElement(Link,{to:\"/threads/\".concat(thread._id)},/*#__PURE__*/React.createElement(\"h3\",null,thread.title)),/*#__PURE__*/React.createElement(Link,{to:\"/profile/\".concat(id)},/*#__PURE__*/React.createElement(\"h5\",null,name)),/*#__PURE__*/React.createElement(\"p\",null,thread.description,\" \"),/*#__PURE__*/React.createElement(\"div\",{className:\"threadlist-buttons\"},/*#__PURE__*/React.createElement(Link,{to:\"/threads/\".concat(thread._id)},/*#__PURE__*/React.createElement(\"p\",null,\"Go to Post\"))));})))));}}]);return ThreadList;}(Component);export default ThreadList;","map":{"version":3,"sources":["/home/nina/Desktop/Ironhack/germanadmin/client/src/components/threads/ThreadList.js"],"names":["React","Component","axios","Link","AddThread","Profile","people","ThreadList","props","getAllThreads","get","then","responseFromApi","setState","listOfThreads","data","getAllUsers","response","listOfUsers","state","console","log","user","map","thread","name","id","username","_id","title","description"],"mappings":"ooBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,OAAQC,MAAR,KAAqB,yBAArB,C,GAEMC,CAAAA,U,wGACJ,oBAAYC,KAAZ,CAAmB,4CACjB,uBAAMA,KAAN,EADiB,MAQnBC,aARmB,CAQH,UAAM,CACpBP,KAAK,CAACQ,GAAN,iBAA0BC,IAA1B,CAA+B,SAACC,eAAD,CAAqB,CAClD,MAAKC,QAAL,CAAc,CACZC,aAAa,CAAEF,eAAe,CAACG,IADnB,CAAd,EAGD,CAJD,EAKD,CAdkB,OAgBnBC,WAhBmB,CAgBL,UAAM,CAClBd,KAAK,CAACQ,GAAN,CAAU,YAAV,EAAwBC,IAAxB,CAA6B,SAACM,QAAD,CAAc,CACzC,MAAKJ,QAAL,CAAc,CACZK,WAAW,CAAED,QAAQ,CAACF,IADV,CAAd,EAGD,CAJD,EAKD,CAtBkB,CAEjB,MAAKI,KAAL,CAAa,CACXL,aAAa,CAAE,EADJ,CAEXI,WAAW,CAAE,EAFF,CAAb,CAFiB,aAMlB,C,oFAkBmB,CAClB,KAAKT,aAAL,GACA,KAAKO,WAAL,GACD,C,uCAEQ,iBACPI,OAAO,CAACC,GAAR,CAAY,6BAAZ,CAA2C,KAAKF,KAAL,CAAWL,aAAtD,EACAM,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmC,KAAKF,KAAL,CAAWD,WAA9C,EACA;AACA,mBACE,qDAEE,2BAAK,SAAS,CAAC,SAAf,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,2BAAK,SAAS,CAAC,YAAf,eACA,2BAAK,GAAG,CAAEZ,MAAV,CAAkB,SAAS,CAAC,aAA5B,EADA,cAEE,iDAFF,cAGI,oBAAC,SAAD,EACA,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACG,aAAL,EAAN,EADT,CAEA,IAAI,CAAE,KAAKD,KAAL,CAAWc,IAFjB,EAHJ,CAMK,GANL,CADF,cAUE,2BAAK,SAAS,CAAC,oBAAf,EACG,KAAKH,KAAL,CAAWL,aAAX,CAAyBS,GAAzB,CAA6B,SAACC,MAAD,CAAY,CACxC,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIC,CAAAA,EAAE,CAAG,EAAT,CAEAF,MAAM,CAACF,IAAP,CAAeG,IAAI,CAAGD,MAAM,CAACF,IAAP,CAAYK,QAAlC,CAA+CF,IAAI,CAAG,EAAtD,CACAD,MAAM,CAACF,IAAP,CAAeI,EAAE,CAAGF,MAAM,CAACF,IAAP,CAAYM,GAAhC,CAAwCF,EAAE,CAAG,EAA7C,CAEA,CACE;;qBAGD,CAED,CACE;;qBAGD,CAED,mBACE,2BACE,SAAS,CAAC,8BADZ,CAEE,GAAG,CAAEF,MAAM,CAACI,GAFd,eAIE,oBAAC,IAAD,EAAM,EAAE,oBAAcJ,MAAM,CAACI,GAArB,CAAR,eACE,8BAAKJ,MAAM,CAACK,KAAZ,CADF,CAJF,cAQE,oBAAC,IAAD,EAAM,EAAE,oBAAcH,EAAd,CAAR,eACE,8BAAKD,IAAL,CADF,CARF,cAYE,6BAAID,MAAM,CAACM,WAAX,KAZF,cAaE,2BAAK,SAAS,CAAC,oBAAf,eACE,oBAAC,IAAD,EAAM,EAAE,oBAAcN,MAAM,CAACI,GAArB,CAAR,eACE,0CADF,CADF,CAbF,CADF,CAqBD,CAxCA,CADH,CAVF,CADF,CAFF,CADF,CA6DD,C,wBA/FsB3B,S,EAkGzB,cAAeM,CAAAA,UAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport AddThread from \"./AddThread\";\nimport Profile from \"../Profile\";\nimport {people} from \"../../utils/imageUpload\"\n\nclass ThreadList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listOfThreads: [],\n      listOfUsers: [],\n    };\n  }\n\n  getAllThreads = () => {\n    axios.get(`/api/threads`).then((responseFromApi) => {\n      this.setState({\n        listOfThreads: responseFromApi.data,\n      });\n    });\n  };\n\n  getAllUsers = () => {\n    axios.get(\"/api/users\").then((response) => {\n      this.setState({\n        listOfUsers: response.data,\n      });\n    });\n  };\n\n  componentDidMount() {\n    this.getAllThreads();\n    this.getAllUsers();\n  }\n\n  render() {\n    console.log(\"this is the list of threads\", this.state.listOfThreads);\n    console.log(\"these are the users\", this.state.listOfUsers);\n    // console.log(\"threadList props\", this.props)\n    return (\n      <>\n        {/* <Navbar /> */}\n        <div className=\"threads\">\n          <div className=\"threadlist\">\n            <div className=\"add-thread\"> \n            <img src={people} className=\"people-icon\"/> \n              <h2>Add a New Thread</h2>\n                <AddThread\n                getData={() => this.getAllThreads()}\n                user={this.props.user}\n              />{\" \"}\n              {/* <== !!! */}\n            </div>\n            <div className=\"threadlist-results\">\n              {this.state.listOfThreads.map((thread) => {\n                let name = \"\";\n                let id = \"\";\n\n                thread.user ? (name = thread.user.username) : (name = \"\");\n                thread.user ? (id = thread.user._id) : (id = \"\");\n\n                {\n                  /* let tests = this.state.listOfUsers.find(\n                  (el) => el._id === thread.user\n                ); */\n                }\n\n                {\n                  /* let usernameTest = this.state.listOfUsers.find(\n                  (user) => console.log(user) || user._id === thread.user\n                ); */\n                }\n\n                return (\n                  <div\n                    className=\"threadlist-individual-result\"\n                    key={thread._id}\n                  >\n                    <Link to={`/threads/${thread._id}`}>\n                      <h3>{thread.title}</h3>\n                    </Link>\n\n                    <Link to={`/profile/${id}`}>\n                      <h5>{name}</h5>\n                    </Link>\n\n                    <p>{thread.description} </p>\n                    <div className=\"threadlist-buttons\">\n                      <Link to={`/threads/${thread._id}`}>\n                        <p>Go to Post</p>\n                      </Link>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default ThreadList;\n"]},"metadata":{},"sourceType":"module"}